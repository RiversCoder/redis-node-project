## redis缓存接口性能优化
---


### 开篇介绍

哈喽，小伙伴们大家好！欢迎来到大喵课堂，我是大喵。
从这节课开始，我们就要来开始一起学习《 Node + Redis 接口性能优化 》这门课程。
在我们日常的node接口开发过程中，特别是代理转发第三方api接口的时候；
我们呢，都会再次重新请求该接口，获取该接口的返回内容，做一些业务上的逻辑处理，然后返回给客户端；
像这样的一个情况，每次客户端我们后台的接口，后台就会再次发出请求，请求这个接口；
每次`http`请求都会耗费一定的时间，页面响应就会有一定的延迟，这样是不太有利于用户体验的。

那有什么办法，可以解决这个问题吗？

答案是当然肯定的，我们可以采用`redis`这款内存数据库，帮助我们缓存接口内容，这样每次客户端请求，我们都会直接从缓存中获取，
响应时间非常快，接口的性能会随之提升很多很多。

在某些场景下，我们需要转发某些第三方的API接口；所以在多次请求的情况下，就会造成很大资源浪费，也不利于WEB应用交互方面的性能优化，所以我们需要使用Redis对第三方请求的接口内容做个一个定期缓存，在某个时限内，我们将会直接从本地Redis取出我们的数据，传递给我们的客户端，这样就可以极大的提升我们的接口性能。超过设定的时间限制，就会失效，重新存储；

当然使用`redis`缓存我们的接口内容时有一个前提的，转发接口的响应内容不会时刻的变化，例如股票数据等等这些，当然就不适合缓存在内存中了；
好，进入案例开发之前呢，我们需要来了解一下什么是`redis`? 以及它有哪些优势呢？

### 简介

首先，我们现在来了解以下什么是`redis`?

* `redis`是一款基于`key-value`的非关系型数据库，它是开源的，而且读写速度很快，性能也非常高
* 并且，它支持数据的持久化，可以把内存里面的数据存入磁盘中，重启机器依旧是可以在再次使用的
* `redis`不仅仅只是支持`key-value`这样的存储形式，也支持 `list`（列表）、`set`（集合）、`zset`(有序集合)、`hash`（哈希）等数据结构的存储

### 优势

好，我们再来看一下它与其他数据库相比较，有哪些比较明显的优势？

* 它的性能是很高的，读取数据的速度是很快的
* 它支持多种类型的数据结构，我们可以根据我们的业务需求，来选择适合的数据存储结构
* 支持过期时间，每个`key`，我们都可以给它设置过期的时间，过期后，我们需要重新存储；同时它也是支持事务，消息订阅的
* 它的一个很大的亮点，就是它的持久化，`redis`呢，它可以周期性的把更新的数据写入我们的磁盘当中，实现数据的持久化
* 当然，`redis`还有个特性就是原子性，大家可能很疑惑呀？什么原子性呢？简单点说，就是redis的所有操作 "要么全部完成，要么全部不完成，不会结束在中间某个环节。" 为什么会这样呢，因为`redis`底层是根据单线程网络模型设计的，它的所有操作都是一个接一个的，不存在并行的可能。这个任务做完，才会去做下个任务。不会存在一个任务做一半就停工的状态。

### 课程安排

接下来，我们来看下我们的整个课程的安排：

* 由于呢，然我们这次的开发，电脑系统是基于`windows`的；所以我们需要在`windows`上，安装我们的`redis`; 当然如果你的系统是`linux`和`mac os`那么您可以直接查阅官方文档，官方文档呢，有`linux`系统安装的详细说明
* 安装好我们的`redis`之后呢，我们需要在命令行，我将会带着大家来熟悉，基本的`redis`基本的命令操作
* 接下来，我们就在本地搭建我们的`node`服务，代理封装第三方接口；这个的第三方接口，我们采用`github`提供的一些`api`用户信息，仓库列表信息等`api`接口；
* 最终呢，我们要完成一个`API`接口缓存优化的一个小案例实战

### 课程收获

再接着，我们来看一下，学完本套课程，将会有哪些收获，学到哪些东西？

* 我们可以学会可`redis`安装和基本使用
* 掌握 `express` 服务搭建，接口开发，以及中间件的使用
* 掌握 `mpm`模块`redis`的基本使用
* 掌握 `redis` 家口缓存优化的基本原理

### 课程面向用户

接下来，我们来看下本套课程适合的人群，课程面向的用户

* 由于我们本套课程涉及一些`node`服务相关知识，所以希望大家对`node`有一定的了解，最好使用过`express`写过一些简单接口
* 喜欢你热爱前端技术，兴趣是最大的老师；有了兴趣爱好，才能更好的追逐不断发展的前端技术
* 当然，如果您希望提升前端技术栈，了解圈内一些新玩法，新知识，那这门课程也是适合你的

### 项目开发环境

好，我们来介绍下我们这门课程所需要的开发环境，及其大喵所使用的的版本号：

* 首当其冲，就是我们的`node.js`和`npm`，都`9102`了，这已经算是前端开发所必备工具吧，下载安装好`node.js`，`npm`包管理器就会自动安装
* 其次就是我们的编辑器，vs code 
* 这里呢，大喵会把整个课程所需要的`redis`工具包括课程源代码，都会上传到我们的课程附件当中，有需要的同学可以去下载
* 好，接下来我们就需要去到`redis`的github主页，下载安装`redis`







